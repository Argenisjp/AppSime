<?xml version='1.0' encoding='UTF-8' ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:html5="http://xmlns.jcp.org/jsf/passthrough"
      xmlns:h="http://xmlns.jcp.org/jsf/html"
      xmlns:c="http://xmlns.jcp.org/jsp/jstl/core"
      xmlns:f="http://xmlns.jcp.org/jsf/core">

    <h:head>
        <meta charset="utf-8" />
        <meta name="viewport" content="width=device-width, user-scalable=no, initial-scale=1.0, maximum-scale=1.0, minimum-scale=1.0" />
        <meta name="author" content="Argenis Jose Rangel" />
        <title>AppSime</title>
        <link rel="shortcut icon" type="image/x-icon" href="#{request.contextPath}/resources/img/sime.png" />
        <!-- Bootstrap Css -->
        <link rel="stylesheet" href="#{request.contextPath}/resources/bootstrap/css/bootstrap.min.css" />
        <!-- Hoja de estilos -->
        <link href="#{request.contextPath}/resources/css/info-prod.css" rel="stylesheet" />
        <!-- Datatable css -->
        <link rel="stylesheet" href="#{request.contextPath}/resources/DataTables/DataTables-1.10.20/css/dataTables.bootstrap4.min.css" />
        <!-- Datatable Responsive -->
        <link rel="stylesheet" href="#{request.contextPath}/resources/DataTables/Responsive-2.2.3/css/responsive.bootstrap4.min.css" />
        <link rel="stylesheet" href="#{request.contextPath}/resources/DataTables/Responsive-2.2.3/css/responsive.dataTables.min.css" />
        <!-- Hoja de estilos de sweeAlert2 -->
        <link rel="stylesheet" href="#{request.contextPath}/resources/sweetalert2/package/dist/sweetalert2.min.css" />
        <!-- Google fonts -->
        <link href="https://fonts.googleapis.com/css?family=Muli:400,700&amp;display=swap" rel="stylesheet" />
    </h:head>


    <h:body>
        <div class="d-flex" id="content-wrapper">
            <!-- Sidebar -->
            <div class="panel-control" id="panel-c">
                <div class="opacidad-panel">
                    <div class="admin-user">
                        <img src="#{request.contextPath}/resources/img/Avatar.png" width="100" alt="" /><br />
                        <small>#{usuarioSesion.usuLogin.nombreEmpleado}</small>
                    </div>
                    <div class="menu-panel">
                        <nav>
                            <ul>
                                <li>
                                    <!--<h:link><i class="fas fa-cart-arrow-down mr-2  lead" />Ventas</h:link>-->
                                    <a href="#{request.contextPath}/ventas/ventas.xhtml"><i class="fas fa-cart-arrow-down mr-2  lead" />Ventas</a>
                                </li>
                                <li>
                                    <!--<h:link><i class="fab fa-steam-square mr-2 lead"/>Producción</h:link>-->
                                    <a href="#{request.contextPath}/produccion/produccion.xhtml"><i class="fab fa-steam-square mr-2  lead" />Producción</a>
                                </li>
                                <li>
                                    <!--<h:link> <i class="fas fa-people-carry mr-2 lead"/>Recursos humanos</h:link>-->
                                    <a href="#{request.contextPath}/recursosH/rec-humanos.xhtml"><i class="fas fa-people-carry mr-2 lead" />Recursos humanos</a>
                                </li>
                                <li>
                                    <!--<h:link ><i class="fas fa-headset mr-2 lead"/>Atención al cliente</h:link>-->
                                    <a href="#{request.contextPath}/atc/atc-cliente.xhtml"><i class="fas fa-headset mr-2  lead" />Atención al cliente</a>
                                </li>
                                <li class="nav-item dropdown">
                                    <a class="nav-link text-white dropdown-toggle" href="#" id="navbarDropdown" role="button" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                                        <i class="fas fa-book-reader mr-2  lead" /> Documentación
                                    </a>

                                    <div class="dropdown-menu dropdown-menu-right" aria-labelledby="navbarDropdown">
                                        <a class="dropdown-item" href="#">Documentación</a>
                                        <a class="dropdown-item" href="https://drive.google.com/file/d/170FcLTLAAE7ALwUrtzp9V3B46gkESkT4/view?usp=sharing">IEEE-830</a>
                                        <a class="dropdown-item" href="https://drive.google.com/drive/folders/19hSHLiU3SdnutNQb9qLrzfjEh5mwzdwA?usp=sharing">Fase-1</a>
                                        <a class="dropdown-item" href="https://drive.google.com/drive/folders/1sGRM-DUPSp8G4Qu6hv2VAGFesQ2yqu7I?usp=sharing">Fase-2</a>
                                        <a class="dropdown-item" href="https://drive.google.com/drive/folders/13RCHqABpvSbQCo7w9MabBfiQcun1uKur?usp=sharing">Fase-3</a>

                                        <div class="dropdown-divider" />
                                    </div>
                                </li>
                            </ul>
                        </nav>
                    </div>

                    <div class="footer-panel">
                        <small>IROKO JEANS</small>
                    </div>
                </div>
            </div>


            <!-- Fin sidebar -->
            <!-- Page Content -->

            <div id="page-content-wrapper" class="w-100 bg-light-blue">
                <nav class="navbar navbar-expand-lg navbar-light bg-light border-bottom">
                    <div class="container-fluid" style="margin: 0px 10px;">
                        <button id="menu-toggle" class="btn btn-outline-dark my-2 my-sm-0 " type="submit"><i class="fas fa-exchange-alt" /></button>
                        <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarSupportedContent" aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation">
                            <span class="navbar-toggler-icon" />
                        </button>
                        <div class="collapse navbar-collapse" id="navbarSupportedContent">

                            <ul class="navbar-nav ml-auto mt-2 mt-lg-0">

                                <!--                            <li class="nav-item ">
                                                               <a class="nav-link" href="clientes.html"><i class="fas fa-users mr-2" />Clientes</a>
                                                            </li>-->

                                <li class="nav-item active">
                                    <a class="nav-link" href="#{request.contextPath}/ventas/inventario.xhtml"><i class="fas fa-boxes mr-1" />Inventario</a>
                                </li> 

                                <li class="nav-item">
                                    <a class="nav-link" href="#{request.contextPath}/ventas/regis-venta.xhtml"><i class="far fa-list-alt mr-1" />Registro de venta</a>                
                                </li>

                                <li class="nav-item dropdown">
                                    <a class="nav-link text-dark dropdown-toggle" href="#" id="navbarDropdown" role="button" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                                        <i class="fas fa-user-cog" />
                                    </a>
                                    <div class="dropdown-menu dropdown-menu-right" aria-labelledby="navbarDropdown">
                                        <a class="dropdown-item" href="#{request.contextPath}/misdatos/misdatos.xhtml"><i class="fas fa-user-edit mr-2" />Mi perfil</a>
                                        <a class="dropdown-item" href="#"><i class="fas fa-cog mr-1" />Configuración</a>
                                        <a class="dropdown-item" href="traducir.html"><i class="fas fa-language mr-1 lead" />Traducir</a>

                                        <div class="dropdown-divider" />
                                        <!--<h:link class="dropdown-item"><i class="fas fa-share-square mr-1" />Cerrar sesión</h:link>-->
                                        <a class="dropdown-item" href="#{request.contextPath}/index.xhtml"><i class="fas fa-share-square mr-1" />Cerrar sesión</a>
                                    </div>
                                </li>
                            </ul>
                        </div>
                    </div>
                </nav>

                <div id="content" class="container-fluid p-5">
                    <section class="">
                        <!-- MIGAS DE PAN -->
                        <div class="migas-pan  ">
                            <div class="row">
                                <div class="col-sm">
                                    <nav aria-label="breadcrumb">
                                        <ol class="breadcrumb">
                                            <!--<li class="breadcrumb-item"><a href="pag-principal.html">Inicio</a></li>-->
                                            <li class="breadcrumb-item"><a href="#{request.contextPath}/index-admi.xhtml">Admin</a></li>
                                            <li class="breadcrumb-item"><a href="#{request.contextPath}/ventas/ventas.xhtml">Ventas</a></li>
                                            <li class="breadcrumb-item active" aria-current="page">Inventario</li>
                                        </ol>
                                    </nav>
                                </div>
                            </div>      
                        </div>
                        <!-- CARD DE CLENTE AL POR MAYOR -->

                        <div class="card mb-2">
                            <div class="card-header">
                                <h4><i class="fas fa-pallet mr-2 lead" style="font-size: 30px;" />INVENTARIO</h4>
                            </div>
                            <div class="card-body">
                                <p class="card-text">
                                    <button type="button" class="btn btn-outline-dark" data-toggle="modal" data-target="#nuevo-cliente"><i class="far fa-plus-square lead mr-2" />Nuevo Producto</button>
                                    <!--<h:link class="btn btn-outline-dark" outcome="reporte-inventario"><i class="far fa-chart-bar lead mr-2" />Reporte de Inventario</h:link>-->
                                    <a class="btn btn-outline-dark" href="#{request.contextPath}/ventas/reporte-inventario.xhtml"><i class="far fa-chart-bar lead mr-2" />Reporte de Inventario</a>
                                </p>
                            </div>
                        </div>
                        <!-- FIN DE LA CARD DE CLENTE AL POR MAYOR -->
                        <!-- Modal -->
                        <h:form>

                            <h:commandLink action="#{gestionInventarioView.descargaReporte(nombreReporte)}" class="btn btn-danger mb-2"  ><i class="far fa-file-pdf lead"></i></h:commandLink>
                            
                        </h:form>



                        <div class="table-responsive">
                            <h:form>
                                <table id="tabla" class="table table-striped table-hover table-bordered" width="100%">

                                    <thead class="thead-dark">
                                        <tr class="text-center">
                                            <th scope="col">ID</th>
                                            <th scope="col">Fecha de entrada</th>
                                            <th scope="col">Nombre del Producto</th>
                                            <th scope="col">Fecha de salida</th>
                                            <th scope="col">Cantidad</th>
                                            <th scope="col">Precio Unitario</th>
                                            <th scope="col">Acciones</th>
                                        </tr>
                                    </thead>

                                    <tbody class="text-center">

                                        <c:forEach items="#{gestionInventarioView.listaInventario}"  var="invIter">

                                            <tr>
                                                <th scope="row">#{invIter.IDproducto}</th>
                                                <td>#{invIter.nombreProducto}</td>
                                                <td>#{invIter.fechaEntradaProducto}</td>
                                                <td>#{invIter.fechaSalidaProducto}</td>
                                                <td>#{invIter.cantidadProducto}</td>
                                                <td>#{invIter.valorUnitarioProducto}</td>
                                                <td> 
                                                    <div class="btn-group" role="group" aria-label="Basic example">
                                                        <!--<button type="button" class="btn btn-info"></button>-->
                                                        <!--<button type="button" class="btn btn-danger" onclick="eliminar_prod();"></button>-->
                                                        <h:commandLink action="#{gestionInventarioView.cargarEditInventario(invIter)}" class="btn btn-info" html5:data-toggle="modal" html5:data-target="#inventarioEdit" >

                                                            <i class="far fa-edit lead" />
                                                            <f:ajax render=":formEdit"></f:ajax>

                                                        </h:commandLink>
                                                        
                                                        <h:commandLink action="#{gestionInventarioView.eliminarInventario(invIter)}" class="btn btn-danger" >
                                                            <i class="fas fa-trash-alt lead" />
                                                        </h:commandLink>
                                                    </div>
                                                </td>
                                            </tr>

                                        </c:forEach>




                                    </tbody>
                                </table>
                            </h:form>

                            <!--FIN DE LA TABLA DE LA LISTA DE USUARIOS -->
                        </div>
                        <br />
                        <br />
                    </section>

                    <!--MODAL PARA REGISTRAR UN NUEVO PRODUCTO AL INVENTARIO-->

                    <div class="modal fade" id="nuevo-cliente" data-backdrop="static" data-keyboard="false" tabindex="-1" role="dialog" aria-labelledby="staticBackdropLabel" aria-hidden="true">
                        <div class="modal-dialog modal-dialog-centered modal-md">
                            <div class="modal-content">
                                <div class="modal-header bg-dark text-white">
                                    <h5 class="modal-title" id="staticBackdropLabel">Nuevo Producto</h5>
                                    <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                                        <span aria-hidden="true">×</span>
                                    </button>
                                </div>
                                <h:form>
                                    <div class="modal-body">
                                        <div class="form-row">
                                            <div class="form-group col-md-12">
                                                <label for="nombre"><b>Nombres del producto</b></label>
                                                <h:inputText value="#{registroInventaroRequest.invenReg.nombreProducto}" class="form-control"  html5:placeholder="Nombre del producto" />
                                            </div>

                                            <div class="form-group col-md-12">
                                                <label for="ciudad"><b>Cantidad</b></label>
                                                <h:inputText value="#{registroInventaroRequest.invenReg.cantidadProducto}" class="form-control"  html5:placeholder="Ingrese la cantidad"  />
                                            </div>

                                            <div class="form-group col-md-12">
                                                <label for="apellidos"><b>Fecha de ingreso</b></label>
                                                <h:inputText value="#{registroInventaroRequest.invenReg.fechaEntradaProducto}" class="form-control"  html5:placeholder="Fecha del ingreso" />
                                            </div>

                                            <div class="form-group col-md-12">
                                                <label for=""><b>Fecha de salida</b></label>
                                                <h:inputText value="#{registroInventaroRequest.invenReg.fechaSalidaProducto}"  class="form-control" html5:placeholder="Fecha de salidad" />
                                            </div>

                                            <div class="form-group col-md-12">
                                                <label for=""><b>Precio Unitario</b></label>
                                                <h:inputText value="#{registroInventaroRequest.invenReg.valorUnitarioProducto}" class="form-control"  html5:placeholder="Ingrese el precio unitario"  />
                                            </div>
                                        </div>
                                    </div>
                                    <div class="modal-footer">
                                        <h:commandButton action="#{registroInventaroRequest.registrarInventario()}"  class="btn btn-dark" value="Guardar" />
                                        <button type="submint" class="btn btn-dark" data-dismiss="modal" onclick="cancelar();"><i class="fas fa-backspace lead mr-2" />Cancelar</button>
                                    </div>
                                </h:form>
                            </div>
                        </div>
                    </div>

                    <!--MODAL PARA EDITAR UNA MERCANCIA DEL INVENTARIO-->

                    <div class="modal fade" id="inventarioEdit" data-backdrop="static" data-keyboard="false" tabindex="-1" role="dialog" aria-labelledby="staticBackdropLabel" aria-hidden="true">
                        <div class="modal-dialog modal-dialog-centered modal-md">
                            <div class="modal-content">
                                <div class="modal-header bg-dark text-white">
                                    <h5 class="modal-title" id="staticBackdropLabel">Editar Mercancia</h5>
                                    <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                                        <span aria-hidden="true">×</span>
                                    </button>
                                </div>
                                <h:form id="formEdit">

                                    <div class="modal-body">
                                        <div class="form-row">
                                            <div class="form-group col-md-12">
                                                <label for="nombre"><b>Nombres del producto</b></label>
                                                <h:inputText value="#{gestionInventarioView.inveEdit.nombreProducto}" class="form-control"  html5:placeholder="Nombre del producto" />
                                            </div>

                                            <div class="form-group col-md-12">
                                                <label for="ciudad"><b>Cantidad</b></label>
                                                <h:inputText value="#{gestionInventarioView.inveEdit.cantidadProducto}" class="form-control"  html5:placeholder="Ingrese la cantidad"  />
                                            </div>

                                            <div class="form-group col-md-12">
                                                <label for="apellidos"><b>Fecha de ingreso</b></label>
                                                <h:inputText value="#{gestionInventarioView.inveEdit.fechaEntradaProducto}" class="form-control"  html5:placeholder="Fecha del ingreso" />
                                            </div>

                                            <div class="form-group col-md-12">
                                                <label for=""><b>Fecha de salida</b></label>
                                                <h:inputText value="#{gestionInventarioView.inveEdit.fechaSalidaProducto}"  class="form-control" html5:placeholder="Fecha de salidad" />
                                            </div>

                                            <div class="form-group col-md-12">
                                                <label for=""><b>Precio Unitario</b></label>
                                                <h:inputText value="#{gestionInventarioView.inveEdit.valorUnitarioProducto}" class="form-control"  html5:placeholder="Ingrese el precio unitario"  />
                                            </div>
                                        </div>
                                    </div>
                                    <div class="modal-footer">
                                        <h:commandButton action="#{gestionInventarioView.editarInven()}"  class="btn btn-dark" value="Guardar Cambios" />
                                        <button type="submint" class="btn btn-dark" data-dismiss="modal" onclick="cancelar();"><i class="fas fa-backspace lead mr-2" />Cancelar</button>
                                    </div>
                                </h:form>
                            </div>
                        </div>
                    </div>

                </div>
            </div>
        </div>
        <!-- Fin Page Content -->
        <!-- Fin wrapper -->
        <!-- Bootstrap  JQuery popper iconos Awesome -->
        <script src="#{request.contextPath}/resources/bootstrap/js/jquery-3.4.1.min.js"></script>
        <script src="#{request.contextPath}/resources/bootstrap/js/popper.min.js"></script>
        <script src="#{request.contextPath}/resources/bootstrap/js/bootstrap.min.js"></script>
        <script type="text/javascript" src="#{request.contextPath}/resources/iconos/js/all.min.js"></script>
        <!-- datatables JS -->
        <script type="text/javascript" src="#{request.contextPath}/resources/DataTables/datatables.min.js"></script>  

        <script type="text/javascript" src="#{request.contextPath}/resources/DataTables/Responsive-2.2.3/js/responsive.bootstrap4.min.js"></script>  

        <script type="text/javascript" src="#{request.contextPath}/resources/DataTables/Responsive-2.2.3/js/dataTables.responsive.min.js"></script>  
        <!-- para usar botones en datatables JS -->  

        <script src="#{request.contextPath}/resources/DataTables/Buttons-1.6.1/js/dataTables.buttons.min.js"></script>  

        <script src="#{request.contextPath}/resources/DataTables/JSZip-2.5.0/jszip.min.js"></script>    

        <script src="#{request.contextPath}/resources/DataTables/pdfmake-0.1.36/pdfmake.min.js"></script>    

        <script src="#{request.contextPath}/resources/dataTables/pdfmake-0.1.36/vfs_fonts.js"></script>
        <script src="#{request.contextPath}/resources/dataTables/Buttons-1.5.6/js/buttons.html5.min.js"></script>
        <!-- código JS propìo-->    

        <script type="text/javascript" src="#{request.contextPath}/resources/js/table.js"></script> 
        <!-- validación del formulario -->
        <script src="#{request.contextPath}/resources/js/validacion_form.js"></script>
        <!-- script de alertAlert2 -->
        <script type="text/javascript" src="#{request.contextPath}/resources/sweetalert2/package/dist/sweetalert2.all.min.js"></script>
        <script type="text/javascript" src="#{request.contextPath}/resources/js/sweetAler.js"></script>
        <!-- Abrir / cerrar menu -->
        <script>
                                            $("#menu-toggle").click(function (e) {
                                                e.preventDefault();
                                                $("#content-wrapper").toggleClass("toggled");
                                            });
                                            $(function () {
                                                $('[data-toggle="tooltip"]').tooltip()
                                            })
        </script>

    </h:body>
</html>

