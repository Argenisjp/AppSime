<?xml version='1.0' encoding='UTF-8' ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:html5="http://xmlns.jcp.org/jsf/passthrough"
      xmlns:h="http://xmlns.jcp.org/jsf/html"
      xmlns:c="http://xmlns.jcp.org/jsp/jstl/core"
      xmlns:b="http://bootsfaces.net/ui"
      xmlns:f="http://xmlns.jcp.org/jsf/core">
    <h:head>
        <meta charset="utf-8" />
        <meta name="viewport" content="width=device-width, user-scalable=no, initial-scale=1.0, maximum-scale=1.0, minimum-scale=1.0" />
        <meta name="author" content="Argenis Jose Rangel" />
        <title>AppSime</title>
        <link rel="shortcut icon" type="image/x-icon" href="#{request.contextPath}/resources/img/sime.png" />
        <!-- Bootstrap Css -->
        <link rel="stylesheet" href="#{request.contextPath}/resources/bootstrap/css/bootstrap.min.css" />
        <!-- Hoja de estilos -->
        <link href="#{request.contextPath}/resources/css/info-prod.css" rel="stylesheet" />
        <!-- Datatable css -->
        <link rel="stylesheet" href="#{request.contextPath}/resources/DataTables/DataTables-1.10.20/css/dataTables.bootstrap4.min.css"/>
        <!-- Datatable Responsive -->
        <link rel="stylesheet" href="#{request.contextPath}/resources/DataTables/Responsive-2.2.3/css/responsive.bootstrap4.min.css"/>
        <link rel="stylesheet" href="#{request.contextPath}/resources/DataTables/Responsive-2.2.3/css/responsive.dataTables.min.css"/>
        <!-- Hoja de estilos de sweeAlert2 -->
        <link rel="stylesheet" href="#{request.contextPath}/resources/sweetalert2/package/dist/sweetalert2.min.css" />
        <!-- Google fonts -->
        <link href="https://fonts.googleapis.com/css?family=Muli:400,700&amp;display=swap" rel="stylesheet"/>
    </h:head>


    <h:body>
        <div class="d-flex" id="content-wrapper">
            <!-- Sidebar -->
            <div class="panel-control" id="panel-c">
                <div class="opacidad-panel">
                    <div class="admin-user">
                        <img src="#{request.contextPath}/resources/img/Avatar.png" width="100" alt="" /><br />
                        <small>#{usuarioSesion.usuLogin.nombreEmpleado}</small>
                    </div>
                    <div class="menu-panel">

                        <nav>
                            <ul>
                                <li>
                                    <!--<h:link><i class="fas fa-cart-arrow-down mr-2  lead" />Ventas</h:link>-->
                                    <a href="#{request.contextPath}/ventas/ventas.xhtml"><i class="fas fa-cart-arrow-down mr-2  lead" />Ventas</a>
                                </li>
                                <li>
                                    <!--<h:link><i class="fab fa-steam-square mr-2 lead"/>Producción</h:link>-->
                                    <a href="#{request.contextPath}/produccion/produccion.xhtml"><i class="fab fa-steam-square mr-2  lead" />Producción</a>
                                </li>
                                <li>
                                    <!--<h:link> <i class="fas fa-people-carry mr-2 lead"/>Recursos humanos</h:link>-->
                                    <a href="#{request.contextPath}/recursosH/rec-humanos.xhtml"><i class="fas fa-people-carry mr-2 lead" />Recursos humanos</a>
                                </li>
                                <li>
                                    <!--<h:link ><i class="fas fa-headset mr-2 lead"/>Atención al cliente</h:link>-->
                                    <a href="#{request.contextPath}/atc/atc-cliente.xhtml"><i class="fas fa-headset mr-2  lead" />Atención al cliente</a>
                                </li>
                                <li class="nav-item dropdown">
                                    <a class="nav-link text-white dropdown-toggle" href="#" id="navbarDropdown" role="button" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                                        <i class="fas fa-book-reader mr-2  lead" /> Documentación
                                    </a>

                                    <div class="dropdown-menu dropdown-menu-right" aria-labelledby="navbarDropdown">
                                        <a class="dropdown-item" href="#">Documentación</a>
                                        <a class="dropdown-item" href="https://drive.google.com/file/d/170FcLTLAAE7ALwUrtzp9V3B46gkESkT4/view?usp=sharing">IEEE-830</a>
                                        <a class="dropdown-item" href="https://drive.google.com/drive/folders/19hSHLiU3SdnutNQb9qLrzfjEh5mwzdwA?usp=sharing">Fase-1</a>
                                        <a class="dropdown-item" href="https://drive.google.com/drive/folders/1sGRM-DUPSp8G4Qu6hv2VAGFesQ2yqu7I?usp=sharing">Fase-2</a>
                                        <a class="dropdown-item" href="https://drive.google.com/drive/folders/13RCHqABpvSbQCo7w9MabBfiQcun1uKur?usp=sharing">Fase-3</a>

                                        <div class="dropdown-divider" />
                                    </div>
                                </li>
                            </ul>
                        </nav>
                    </div>
                    <div class="footer-panel">
                        <small>IROKO JEANS</small>
                    </div>
                </div>
            </div>
            <!-- Fin sidebar -->
            <!-- Page Content -->
            <div id="page-content-wrapper" class="w-100 bg-light-blue">
                <nav class="navbar navbar-expand-lg navbar-light bg-light border-bottom">
                    <div class="container-fluid" style="margin: 0px 10px;">
                        <button id="menu-toggle" class="btn btn-outline-dark my-2 my-sm-0 " type="submit"><i class="fas fa-exchange-alt" /></button>
                        <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarSupportedContent" aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation">
                            <span class="navbar-toggler-icon" />
                        </button>
                        <div class="collapse navbar-collapse" id="navbarSupportedContent">

                            <ul class="navbar-nav ml-auto mt-2 mt-lg-0">

                                <li class="nav-item ">
                                    <!--<h:link class="nav-link" outcome="produc"><i class="fas fa-cogs lead mr-2" />Producción</h:link>-->
                                    <a class="nav-link" href="#{request.contextPath}/produccion/produc.xhtml"><i class="fas fa-cogs lead mr-2" />Producción</a>
                                </li> 

                                <li class="nav-item">
                                    <!--<h:link class="nav-link" outcome="materia-prima"><i class="fas fa-tape lead mr-2" />Materia prima</h:link>-->
                                    <a class="nav-link" href="#{request.contextPath}/produccion/materia-prima.xhtml"><i class="fas fa-tape lead mr-2" />Materia prima</a>                
                                </li> 

                                <li class="nav-item active">
                                    <!--<h:link class="nav-link" outcome="proveedores"><i class="fas fa-people-arrows lead mr-2" />Proveedores</h:link>-->
                                    <a class="nav-link" href="#{request.contextPath}/produccion/proveedores.xhtml"><i class="fas fa-people-arrows lead mr-2" />Proveedores</a>                
                                </li>

                                <li class="nav-item dropdown">
                                    <a class="nav-link text-dark dropdown-toggle" href="#" id="navbarDropdown" role="button" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                                        <i class="fas fa-user-cog" />
                                    </a>
                                    <div class="dropdown-menu dropdown-menu-right" aria-labelledby="navbarDropdown">
                                        <a class="dropdown-item" href="#{request.contextPath}/misdatos/misdatos.xhtml"><i class="fas fa-user-edit mr-2" />Mi perfil</a>
                                        <a class="dropdown-item" href="#"><i class="fas fa-cog mr-1" />Configuración</a>
                                        <a class="dropdown-item" href="traducir.html"><i class="fas fa-language mr-1 lead" />Traducir</a>

                                        <div class="dropdown-divider" />
                                        <!--<h:link class="dropdown-item"><i class="fas fa-share-square mr-1" />Cerrar sesión</h:link>-->
                                        <a class="dropdown-item" href="#{request.contextPath}/index.xhtml"><i class="fas fa-share-square mr-1" />Cerrar sesión</a>
                                    </div>
                                </li>
                            </ul>
                        </div>
                    </div>
                </nav>

                <div id="content" class="container-fluid p-5">
                    <section class="">
                        <!-- MIGAS DE PAN -->
                        <div class="migas-pan  ">
                            <div class="row">
                                <div class="col-sm">
                                    <nav aria-label="breadcrumb">
                                        <ol class="breadcrumb">
                                            <!--<h:link class="breadcrumb-item" outcome="index">Inicio</h:link>-->
                                            <!--<li class="breadcrumb-item"><a href="pag-principal.html">Inicio</a></li>-->

                                            <!--<h:link class="breadcrumb-item" outcome="index-admi">Admin</h:link>-->
                                            <li class="breadcrumb-item"><a href="#{request.contextPath}/index-admi.xhtml">Admin</a></li>

                                            <!--<h:link class="breadcrumb-item" outcome="produccion">Producción</h:link>-->
                                            <li class="breadcrumb-item"><a href="#{request.contextPath}/produccion.xhtml">Producción</a></li>
                                            <li class="breadcrumb-item active" aria-current="page">Proveedores</li>
                                        </ol>
                                    </nav>
                                </div>
                            </div>      
                        </div>

                        <!-- CARD DE CLENTE AL POR MAYOR -->

                        <div class="card mb-2">
                            <div class="card-header">
                                <h4><i class="fas fa-people-arrows lead mr-2" style="font-size: 30px;" />PROVEEDORES</h4>
                            </div>
                        </div>
                        <!-- FIN DE LA CARD DE CLENTE AL POR MAYOR -->

                        <!--BUTTON PARA LLAMAR EL MODAL DE REGISTRAR UN PROVEEDOR-->
                        <button type="button" class="btn btn-outline-dark mb-2" data-toggle="modal" data-target="#nuevo-cliente"><i class="far fa-plus-square lead mr-2" />Nuevo Proveedor</button>
                        <h:form>
                            <h:commandLink action="#{gestionProveedoresView.descargaReporte(nombreReporte)}" class="btn btn-danger mb-2" ><i class="far fa-file-pdf lead"></i></h:commandLink>
                        </h:form>
                        
                        <div class="table-responsive">
                            <h:form>
                                <table id="tabla" class="table table-striped table-hover table-bordered" width="100%">

                                    <thead class="thead-dark">
                                        <tr>
                                            <th scope="col">ID</th>
                                            <th scope="col">Nombre</th>
                                            <th scope="col">Apellidos</th>
                                            <th scope="col">Teléfono</th>
                                            <th scope="col">Dirección</th>
                                            <th scope="col">Correo</th>
                                            <th scope="col">Acciones</th>
                                        </tr>
                                    </thead>

                                    <tbody class="text-center">


                                        <c:forEach items="#{gestionProveedoresView.listaPreovee}" var="provIter">

                                            <tr>
                                                <th scope="row">#{provIter.IDproveedor}</th>
                                                <td>#{provIter.nombreProveedor}</td>
                                                <td>#{provIter.apellidoProveedor}</td>
                                                <td>#{provIter.telefonoProveedor}</td>
                                                <td>#{provIter.direccionProveedor}</td>
                                                <td>#{provIter.emailProveedor}</td>
                                                <td> 
                                                    <div class="btn-group" role="group" aria-label="Basic example">

                                                        <h:commandLink action="#{gestionProveedoresView.cargaEditarProveedor(provIter)}" class="btn btn-info" html5:data-toggle="modal" html5:data-target="#editarProveedor" >

                                                            <f:ajax render=":formEditProvee"></f:ajax>
                                                            <i class="fas fa-user-edit lead" />
                                                        </h:commandLink>

                                                        <h:commandLink class="btn btn-danger" action="#{gestionProveedoresView.eliminarProveedor(provIter)}">
                                                            <i class="fas fa-user-times lead" />
                                                        </h:commandLink>
                                                    </div>
                                                </td>
                                            </tr>

                                        </c:forEach>

                                    </tbody>
                                </table>
                            </h:form> 
                            <!--FIN DE LA TABLA DE LA LISTA DE USUARIOS -->
                        </div>



                        <!--MODAL PARA REGISTRAR UN PROVEEDOR-->
                        <div class="modal fade" id="nuevo-cliente" data-backdrop="static" data-keyboard="false" tabindex="-1" role="dialog" aria-labelledby="staticBackdropLabel" aria-hidden="true">
                            <div class="modal-dialog modal-dialog-centered modal-md">
                                <div class="modal-content">
                                    <div class="modal-header bg-dark text-white">
                                        <h5 class="modal-title" id="staticBackdropLabel">Nuevo Proveedor</h5>
                                        <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                                            <span aria-hidden="true">×</span>
                                        </button>
                                    </div>

                                    <h:form>
                                        <div class="modal-body">
                                            <div class="form-row">

                                                <div class="form-group col-md-12">
                                                    <label for="r-cedu"><b>Cedula</b></label>
                                                    <h:inputText value="#{registroProveedoresRequest.provReg.CCproveedor}" class="form-control"  id="r-cedu" html5:placeholder="Ingrese el Nombre"  />
                                                </div>
                                                <div class="form-group col-md-12">
                                                    <label for="r-nom"><b>Nombre</b></label>
                                                    <h:inputText value="#{registroProveedoresRequest.provReg.nombreProveedor}" class="form-control"  id="r-nom" html5:placeholder="Ingrese el Nombre"  />
                                                </div>

                                                <div class="form-group col-md-12">
                                                    <label for="r-apell"><b>Apellidos</b></label>
                                                    <h:inputText value="#{registroProveedoresRequest.provReg.apellidoProveedor}" class="form-control"  id="r-apell" html5:placeholder="Ingrese los Apellidos"  />
                                                </div>

                                                <div class="form-group col-md-12">
                                                    <label for="r-correo"><b>Correo</b></label>
                                                    <h:inputText value="#{registroProveedoresRequest.provReg.emailProveedor}" class="form-control"  id="r-correo" html5:placeholder="Ingrese el correo electrónico"  />
                                                </div>

                                                <div class="form-group col-md-12">
                                                    <label for=""><b>Teléfono</b></label>
                                                    <h:inputText value="#{registroProveedoresRequest.provReg.telefonoProveedor}" class="form-control"  id="r-tel" html5:placeholder="Número teléfonico"  />
                                                </div>

                                                <div class="form-group col-md-12">
                                                    <label for="r-direc"><b>Dirección</b></label>
                                                    <h:inputText value="#{registroProveedoresRequest.provReg.direccionProveedor}" class="form-control"  id="r-direc" html5:placeholder="Dirección"  />
                                                </div>
                                            </div>
                                        </div>
                                        <div class="modal-footer">
                                            <h:commandButton action="#{registroProveedoresRequest.registrarProveedor()}" class="btn btn-dark"  value="Guardar" />
                                            <button type="submint" class="btn btn-dark" data-dismiss="modal" onclick="return cancelar()"><i class="fas fa-backspace lead mr-2" />Cancelar</button>
                                        </div>
                                    </h:form>
                                </div>
                            </div>
                        </div>



                        <!--MODAL PARA EDITAR UN PROVEEDOR-->
                        <div class="modal fade" id="editarProveedor" data-backdrop="static" data-keyboard="false" tabindex="-1" role="dialog" aria-labelledby="staticBackdropLabel" aria-hidden="true">
                            <div class="modal-dialog modal-dialog-centered modal-md">
                                <div class="modal-content">
                                    <div class="modal-header bg-dark text-white">
                                        <h5 class="modal-title" id="staticBackdropLabel"><i class="far fa-edit lead mr-2" style="font-size: 30px;"></i>EDITAR Proveedor</h5>
                                        <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                                            <span aria-hidden="true">×</span>
                                        </button>
                                    </div>

                                    <h:form id="formEditProvee">
                                        <div class="modal-body">
                                            <div class="form-row">

                                                <div class="form-group col-md-12">
                                                    <label for="r-cedu"><b>Cedula</b></label>
                                                    <h:inputText value="#{gestionProveedoresView.proveeEditar.CCproveedor}" class="form-control"  id="r-cedu" html5:placeholder="Ingrese el Nombre"  />
                                                </div>
                                                <div class="form-group col-md-12">
                                                    <label for="r-nom"><b>Nombre</b></label>
                                                    <h:inputText value="#{gestionProveedoresView.proveeEditar.nombreProveedor}" class="form-control"  id="r-nom" html5:placeholder="Ingrese el Nombre"  />
                                                </div>

                                                <div class="form-group col-md-12">
                                                    <label for="r-apell"><b>Apellidos</b></label>
                                                    <h:inputText value="#{gestionProveedoresView.proveeEditar.apellidoProveedor}" class="form-control"  id="r-apell" html5:placeholder="Ingrese los Apellidos"  />
                                                </div>

                                                <div class="form-group col-md-12">
                                                    <label for="r-correo"><b>Correo</b></label>
                                                    <h:inputText value="#{gestionProveedoresView.proveeEditar.emailProveedor}" class="form-control"  id="r-correo" html5:placeholder="Ingrese el correo electrónico"  />
                                                </div>

                                                <div class="form-group col-md-12">
                                                    <label for=""><b>Teléfono</b></label>
                                                    <h:inputText value="#{gestionProveedoresView.proveeEditar.telefonoProveedor}" class="form-control"  id="r-tel" html5:placeholder="Número teléfonico"  />
                                                </div>

                                                <div class="form-group col-md-12">
                                                    <label for="r-direc"><b>Dirección</b></label>
                                                    <h:inputText value="#{gestionProveedoresView.proveeEditar.direccionProveedor}" class="form-control"  id="r-direc" html5:placeholder="Dirección"  />
                                                </div>
                                            </div>
                                        </div>
                                        <div class="modal-footer">
                                            <h:commandButton action="#{gestionProveedoresView.editarProveedor()}" class="btn btn-dark"  value="Actualizar" />
                                            <button type="submint" class="btn btn-dark" data-dismiss="modal" onclick="return cancelar()"><i class="fas fa-backspace lead mr-2" />Cancelar</button>
                                        </div>
                                    </h:form>
                                </div>
                            </div>
                        </div>


                        <br />
                        <br />
                        <br />
                    </section>
                </div>
            </div>
        </div>
        <!-- Fin Page Content -->
        <!-- Fin wrapper -->





        <!-- Bootstrap  JQuery popper iconos Awesome -->
        <script src="#{request.contextPath}/resources/bootstrap/js/jquery-3.4.1.min.js"></script>
        <script src="#{request.contextPath}/resources/bootstrap/js/popper.min.js"></script>
        <script src="#{request.contextPath}/resources/bootstrap/js/bootstrap.min.js"></script>
        <script type="text/javascript" src="#{request.contextPath}/resources/iconos/js/all.min.js"></script>
        <!-- datatables JS -->
        <script type="text/javascript" src="#{request.contextPath}/resources/DataTables/datatables.min.js"></script>  

        <script type="text/javascript" src="#{request.contextPath}/resources/DataTables/Responsive-2.2.3/js/responsive.bootstrap4.min.js"></script>  

        <script type="text/javascript" src="#{request.contextPath}/resources/DataTables/Responsive-2.2.3/js/dataTables.responsive.min.js"></script>  
        <!-- para usar botones en datatables JS -->  

        <script src="#{request.contextPath}/resources/DataTables/Buttons-1.6.1/js/dataTables.buttons.min.js"></script>  

        <script src="#{request.contextPath}/resources/DataTables/JSZip-2.5.0/jszip.min.js"></script>    

        <script src="DataTables/pdfmake-0.1.36/pdfmake.min.js"></script>    

        <script src="#{request.contextPath}/resources/dataTables/pdfmake-0.1.36/vfs_fonts.js"></script>
        <script src="#{request.contextPath}/resources/dataTables/Buttons-1.5.6/js/buttons.html5.min.js"></script>
        <!-- código JS propìo-->    

        <script type="text/javascript" src="#{request.contextPath}/resources/js/table.js"></script> 
        <!-- validación del formulario -->
        <script src="#{request.contextPath}/resources/js/validacion_form.js"></script>
        <!-- alerta sweetalert2 -->
        <script type="text/javascript" src="#{request.contextPath}/resources/sweetalert2/package/dist/sweetalert2.all.min.js"></script>
        <script type="text/javascript" src="#{request.contextPath}/resources/js/sweetAler.js"></script>
        <!-- Abrir / cerrar panel de control -->
        <script>
                                                $("#menu-toggle").click(function (e) {
                                                    e.preventDefault();
                                                    $("#content-wrapper").toggleClass("toggled");
                                                });
                                                $(function () {
                                                    $('[data-toggle="tooltip"]').tooltip()
                                                })
        </script>
    </h:body>
</html>

