<?xml version='1.0' encoding='UTF-8' ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:h="http://xmlns.jcp.org/jsf/html"
      xmlns:html5="http://xmlns.jcp.org/jsf/passthrough"
      xmlns:c="http://xmlns.jcp.org/jsp/jstl/core"
      xmlns:f="http://xmlns.jcp.org/jsf/core">
    <h:head>

        <meta charset="utf-8" />
        <meta name="viewport" content="width=device-width, user-scalable=no, initial-scale=1.0, maximum-scale=1.0, minimum-scale=1.0" />
        <meta name="author" content="Argenis Jose Rangel" />
        <title>AppSime</title>
        <!-- Favicon -->
        <link rel="shortcut icon" type="image/x-icon" href="#{request.contextPath}/resources/img/sime.png" />
        <!-- Bootstrap Css -->
        <link rel="stylesheet" href="#{request.contextPath}/resources/bootstrap/css/bootstrap.min.css" />
        <!-- Hoja de estilos -->
        <link href="#{request.contextPath}/resources/css/index.admin.css" rel="stylesheet" />
        <!-- Datatable css -->
        <link rel="stylesheet" href="#{request.contextPath}/resources/DataTables/DataTables-1.10.20/css/dataTables.bootstrap4.min.css" />
        <!-- Datatable Responsive -->
        <link rel="stylesheet" href="#{request.contextPath}/resources/DataTables/Responsive-2.2.3/css/responsive.bootstrap4.min.css" />
        <link rel="stylesheet" href="#{request.contextPath}/resources/DataTables/Responsive-2.2.3/css/responsive.dataTables.min.css" />
        <!-- Hoja de estilos de sweeAlert2 -->
        <link rel="stylesheet" href="#{request.contextPath}/resources/sweetalert2/package/dist/sweetalert2.min.css" />
        <!-- Google fonts -->
        <link href="https://fonts.googleapis.com/css?family=Muli:400,700&amp;display=swap" rel="stylesheet" />

    </h:head>

    <h:body>
        <h:form>
            <div class="d-flex" id="content-wrapper">
                <!-- Sidebar -->
                <div class="panel-control" id="panel-c">
                    <div class="opacidad-panel">
                        <div class="admin-user">
                            <img src="#{request.contextPath}/resources/img/Avatar.png" width="100" alt="" /><br />
                            <small>#{usuarioSesion.usuLogin.nombreEmpleado}</small>
                        </div>
                        <div class="menu-panel">
                            <nav>
                                <ul>
                                    <li>
                                        <!--<h:link><i class="fas fa-cart-arrow-down mr-2  lead" />Ventas</h:link>-->
                                        <a href="#{request.contextPath}/ventas/ventas.xhtml"><i class="fas fa-cart-arrow-down mr-2  lead" />Ventas</a>
                                    </li>
                                    <li>
                                        <!--<h:link><i class="fab fa-steam-square mr-2 lead"/>Producción</h:link>-->
                                        <a href="#{request.contextPath}/produccion/produccion.xhtml"><i class="fab fa-steam-square mr-2  lead" />Producción</a>
                                    </li>
                                    <li>
                                        <!--<h:link> <i class="fas fa-people-carry mr-2 lead"/>Recursos humanos</h:link>-->
                                        <a href="#{request.contextPath}/recursosH/rec-humanos.xhtml"><i class="fas fa-people-carry mr-2 lead" />Recursos humanos</a>
                                    </li>
                                    <li>
                                        <!--<h:link ><i class="fas fa-headset mr-2 lead"/>Atención al cliente</h:link>-->
                                        <a href="#{request.contextPath}/atc/atc-cliente.xhtml"><i class="fas fa-headset mr-2  lead" />Atención al cliente</a>
                                    </li>
                                    <li class="nav-item dropdown">
                                        <a class="nav-link text-white dropdown-toggle" href="#" id="navbarDropdown" role="button" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                                            <i class="fas fa-book-reader mr-2  lead" /> Documentación
                                        </a>

                                        <div class="dropdown-menu dropdown-menu-right" aria-labelledby="navbarDropdown">
                                            <a class="dropdown-item" href="#">Documentación</a>
                                            <a class="dropdown-item" href="https://drive.google.com/file/d/170FcLTLAAE7ALwUrtzp9V3B46gkESkT4/view?usp=sharing">IEEE-830</a>
                                            <a class="dropdown-item" href="https://drive.google.com/drive/folders/19hSHLiU3SdnutNQb9qLrzfjEh5mwzdwA?usp=sharing">Fase-1</a>
                                            <a class="dropdown-item" href="https://drive.google.com/drive/folders/1sGRM-DUPSp8G4Qu6hv2VAGFesQ2yqu7I?usp=sharing">Fase-2</a>
                                            <a class="dropdown-item" href="https://drive.google.com/drive/folders/13RCHqABpvSbQCo7w9MabBfiQcun1uKur?usp=sharing">Fase-3</a>

                                            <div class="dropdown-divider" />
                                        </div>
                                    </li>
                                </ul>
                            </nav>
                        </div>

                        <div class="footer-panel">
                            <small>IROKO JEANS</small>
                        </div>
                    </div>
                </div>
                <!-- Fin sidebar -->
                <!-- Page Content -->
                <div id="page-content-wrapper" class="w-100 bg-light-blue">
                    <nav class="navbar navbar-expand-lg navbar-light bg-light border-bottom">
                        <div class="container-fluid" style="margin: 0px 10px;">
                            <button id="menu-toggle" class="btn btn-outline-dark my-2 my-sm-0 " type="submit"><i class="fas fa-exchange-alt" /></button>
                            <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarSupportedContent" aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation">
                                <span class="navbar-toggler-icon" />
                            </button>
                            <div class="collapse navbar-collapse" id="navbarSupportedContent">
                                <ul class="navbar-nav ml-auto mt-2 mt-lg-0">

                                    <li class="nav-item active">
                                        <!--<h:link class="nav-link" outcome="empleados"><i class="fas fa-users lead mr-2" />Empleados</h:link>-->
                                        <a href="#{request.contextPath}/recursosH/empleados.xhtml" class="nav-link"><i class="fas fa-users lead mr-2" />Empleados</a>
                                    </li>

                                    <li class="nav-item">
                                        <!--<h:link  class="nav-link" outcome="horarios"><i class="fas fa-user-clock lead mr-2" />Horarios</h:link>-->
                                        <a href="#{request.contextPath}/recursosH/horarios.xhtml" class="nav-link"><i class="fas fa-user-clock lead mr-2" />Horarios</a>
                                    </li>

                                    <li class="nav-item">
                                        <!--<h:link class="nav-link" outcome="dotaciones"><i class="fas fa-address-card lead mr-2" />Dotaciones</h:link>-->
                                        <a href="#{request.contextPath}/recursosH/dotaciones.xhtml" class="nav-link"><i class="fas fa-address-card lead mr-2" />Dotaciones</a>
                                    </li>

                                    <li class="nav-item dropdown">
                                        <a class="nav-link text-dark dropdown-toggle" href="#" id="navbarDropdown" role="button" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                                            <i class="fas fa-user-cog" />
                                        </a>
                                        <div class="dropdown-menu dropdown-menu-right" aria-labelledby="navbarDropdown">
                                            <a class="dropdown-item" href="#{request.contextPath}/misdatos/misdatos.xhtml"><i class="fas fa-user-edit mr-2" />Mi perfil</a>
                                            <a class="dropdown-item" href="#"><i class="fas fa-cog mr-1" />Configuración</a>
                                            <a class="dropdown-item" href="traducir.html"><i class="fas fa-language mr-1 lead" />Traducir</a>

                                            <div class="dropdown-divider" />
                                            <!--<h:link class="dropdown-item"><i class="fas fa-share-square mr-1" />Cerrar sesión</h:link>-->
                                            <a class="dropdown-item" href="#{request.contextPath}/index.xhtml"><i class="fas fa-share-square mr-1" />Cerrar sesión</a>
                                        </div>
                                    </li>
                                </ul>
                            </div>
                        </div>
                    </nav>
                    <!-- CONTENIDO DE LA PAGINA -->
                    <div id="content" class="container-fluid p-4">
                        <!-- MIGAS DE PAN -->
                        <div class="migas-pan  ">
                            <div class="row">
                                <div class="col-sm">
                                    <nav aria-label="breadcrumb">
                                        <ol class="breadcrumb">
                                            <!--<h:link class="breadcrumb-item" outcome="index">Inicio</h:link>-->
                                            <!--<li class="breadcrumb-item"><a href="pag-principal.html">Inicio</a></li>-->
                                            <!--<h:link class="breadcrumb-item" outcome="index-admi">Admin</h:link>-->
                                            <li class="breadcrumb-item"><a href="#{request.contextPath}/index-admi.xhtml">Admin</a></li>
                                            <!--<h:link class="breadcrumb-item" outcome="rec-humanos">Recursos humanos</h:link>-->
                                            <li class="breadcrumb-item"><a href="#{request.contextPath}/recursosH/rec-humanos.xhtml">Recursos humanos</a></li>
                                            <li class="breadcrumb-item active" aria-current="page">Empleados</li>
                                        </ol>
                                    </nav>
                                </div>
                            </div>      
                        </div>


                        <div class="card mb-3">
                            <div class="card-header">
                                <div class="card-title">
                                    <h3><i class="fas fa-user-tie mr-2" style="font-size: 30px;" />LISTA DE EMPLEADOS</h3>
                                </div>
                            </div>
                        </div>
                        <!-- boton para agregar un nuevo empleado -->
                        <button type="button" class="btn btn-outline-dark mb-2" data-toggle="modal" data-target="#nuevo-empleado"><i class="fas fa-user-plus mr-2 lead" />Nuevo Empleado</button>

                        <!-- tabla de la lista de empleados  -->
                       
                        <h:form >
                            
                            
                            <table id="tabla" class="table table-striped table-hover table-bordered " width="100%">

                                <thead class="thead-dark">
                                    <tr class="text-center">
                                        <th scope="col">ID</th>
                                        <th scope="col">Nombre</th>
                                        <th scope="col">Apellidos</th>
                                        <th scope="col">Email</th>
                                        <th scope="col">Teléfono</th>
                                        <th scope="col">Contraseña</th>
                                        <th scope="col">Dirección</th>
                                        <th scope="col">Ciudad</th>
                                        <th scope="col">Acciones</th>
                                    </tr>
                                </thead>

                                <tbody>

                                    <c:forEach items="#{gestionUsuariosView.listaEmpleados}" var="empIter">

                                        <tr>
                                            <th scope="row">#{empIter.IDempleado}</th>
                                            <td>#{empIter.nombreEmpleado}</td>
                                            <td>#{empIter.apellidoEmpleado}</td>
                                            <td>#{empIter.emailEmpleado}</td>
                                            <td>#{empIter.telefonoEmpleado}</td>
                                            <td>#{empIter.contrasenaEmpleado}</td>
                                            <td>#{empIter.ciudadEmpleado}</td>
                                            <td>#{empIter.direccionEmpleado}</td>
                                            
                                            <td> 
                                                <div class="btn-group">
                                                    <h:commandButton class="btn btn-info" action="#{gestionUsuariosView.cargaEditarEmpleado(empIter)}"  html5:data-toggle="modal" html5:data-target="#editarEmpleado" value="Edit" >
                                                        <!--<i class="far fa-edit " />-->
                                                        <f:ajax render=":formEditar"></f:ajax>
                                                    </h:commandButton>

                                                    <h:commandButton class="btn btn-danger "   action="#{gestionUsuariosView.eliminarEmple(empIter)}" value="Elimi" >
                                                        <!--<i class="fas fa-trash-alt " />-->
                                                    </h:commandButton>
                                                </div>
                                            </td>
                                        </tr>


                                    </c:forEach>

                                </tbody>
                            </table> 
                        </h:form>



                        <br />
                        <br />
                        <br />
                    </div>
                </div>
                <!-- FIN DEL CONTENIDO DE LA PAGINA -->

                <!--MODAL DE EDITAR-->
                <div class="modal fade" id="editarEmpleado" data-backdrop="static" data-keyboard="false" tabindex="-1" role="dialog" aria-labelledby="staticBackdropLabel" aria-hidden="true">
                    <div class="modal-dialog modal-dialog-centered modal-lg">
                        <div class="modal-content">
                            <div class="modal-header bg-dark text-white">
                                <h5 class="modal-title" id="staticBackdropLabel"><i class="far fa-edit lead mr-2"></i>Editar Empleado</h5>
                                <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                                    <span aria-hidden="true">×</span>
                                </button>
                            </div>
                            <h:form id="formEditar">
                                <div class="modal-body">
                                    <div class="form-row">
                                        <div class="form-group col-md-6">
                                            <label for=""><b>Tipo de Documento</b></label>
                                            <h:inputText value="#{gestionUsuariosView.emplEditar.tipoDocumento}" disabled="true" class="form-control"/>
                                        </div>

                                        <div class="form-group col-md-6">
                                            <label for=""><b>Documento</b></label>
                                            <h:inputText value="#{gestionUsuariosView.emplEditar.CCempleado}" disabled="true"  class="form-control"  />
                                        </div>
                                        <div class="form-group col-md-6">
                                            <label for=""><b>Nombres</b></label>
                                            <h:inputText value="#{gestionUsuariosView.emplEditar.nombreEmpleado}"  class="form-control"  />

                                        </div>

                                        <div class="form-group col-md-6">
                                            <label for=""><b>Apellidos</b></label>
                                            <h:inputText value="#{gestionUsuariosView.emplEditar.apellidoEmpleado}" class="form-control"  />
                                        </div>

                                        <div class="form-group col-md-6">
                                            <label for=""><b>Correo</b></label>
                                            <h:inputText value="#{gestionUsuariosView.emplEditar.emailEmpleado}"  class="form-control"   />
                                        </div>

                                        <div class="form-group col-md-6">
                                            <label for=""><b>Contraseña</b></label>
                                            <h:inputSecret value="#{gestionUsuariosView.emplEditar.contrasenaEmpleado}" disabled="true"  class="form-control" />
                                        </div>

                                        <div class="form-group col-md-6">
                                            <label for=""><b>Telefono</b></label>
                                            <h:inputText value="#{gestionUsuariosView.emplEditar.telefonoEmpleado}"  class="form-control"   />
                                            <h:message  class="text-danger" for="r-telefono"></h:message>
                                        </div>

                                        <div class="form-group col-md-6">
                                            <label for=""><b>Ciudad</b></label>
                                            <h:inputText value="#{gestionUsuariosView.emplEditar.ciudadEmpleado}"  class="form-control" />
                                            <h:message  class="text-danger" for="r-ciudad"></h:message>
                                        </div>

                                        <div class="form-group col-md-12">
                                            <label for=""><b>Dirección</b></label>
                                            <h:inputText value="#{gestionUsuariosView.emplEditar.direccionEmpleado}"  class="form-control" />
                                        </div>
                                    </div>
                                </div>
                                <div class="modal-footer">
                                    <h:commandButton  action="#{gestionUsuariosView.editarEmpleado()}" class="btn btn-dark " value="Actualizar" ></h:commandButton>
                                    <button type="submint" class="btn btn-dark" data-dismiss="modal" onclick="return cancelar()"><i class="fas fa-backspace lead mr-2" />Cancelar</button>
                                </div>
                            </h:form>
                        </div>
                    </div>
                </div>

                <!--MODAL NUEVO EMPLEADO-->
                <div class="modal fade" id="nuevo-empleado" data-backdrop="static" data-keyboard="false" tabindex="-1" role="dialog" aria-labelledby="staticBackdropLabel" aria-hidden="true">
                    <div class="modal-dialog modal-dialog-centered modal-lg">
                        <div class="modal-content">
                            <div class="modal-header bg-dark text-white">
                                <h5 class="modal-title" id="staticBackdropLabel">Nuevo Empleado</h5>
                                <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                                    <span aria-hidden="true">×</span>
                                </button>
                            </div>
                            <h:form id="nuevoEmpleado">
                                <div class="modal-body">
                                    <div class="form-row">
                                        <div class="form-group col-md-6">
                                            <label for="tipoDocumento"><b>Tipo de Documento</b></label>
                                            <h:selectOneMenu value="#{gestionUsuariosView.emplNuevo.tipoDocumento}" id="tipoDocumento"  class="form-control">
                                                <f:selectItem itemLabel="Cedula" itemValue="Cedula"></f:selectItem>
                                                <f:selectItem itemLabel="Cedula Ex." itemValue="Cedula Ex."></f:selectItem>
                                                <f:selectItem itemLabel="T. Identidad" itemValue="T. Identidad"></f:selectItem>
                                                <f:selectItem itemLabel="Pasaporte" itemValue="Pasaporte"></f:selectItem>
                                            </h:selectOneMenu>
                                        </div>
                                        <div class="form-group col-md-6">
                                            <label for=""><b>Documento</b></label>
                                            <h:inputText value="#{gestionUsuariosView.emplNuevo.CCempleado}"  class="form-control"  html5:placeholder="Ingrese un numero de documento"  />
                                        </div>
                                        <div class="form-group col-md-6">
                                            <label for=""><b>Nombres</b></label>
                                            <h:inputText value="#{gestionUsuariosView.emplNuevo.nombreEmpleado}"  class="form-control"   html5:placeholder="Ingrese sus nombre" />

                                        </div>

                                        <div class="form-group col-md-6">
                                            <label for=""><b>Apellidos</b></label>
                                            <h:inputText value="#{gestionUsuariosView.emplNuevo.apellidoEmpleado}"  class="form-control"   html5:placeholder="Ingrese sus apellidos" />
                                        </div>

                                        <div class="form-group col-md-6">
                                            <label for=""><b>Correo</b></label>
                                            <h:inputText value="#{gestionUsuariosView.emplNuevo.emailEmpleado}"  class="form-control"   html5:placeholder="Ingrese un correo electronico"  />
                                        </div>

                                        <div class="form-group col-md-6">
                                            <label for=""><b>Contraseña</b></label>
                                            <h:inputSecret value="#{gestionUsuariosView.emplNuevo.contrasenaEmpleado}"  class="form-control"  html5:placeholder="*******************"/>
                                        </div>

                                        <div class="form-group col-md-6">
                                            <label for=""><b>Telefono</b></label>
                                            <h:inputText value="#{gestionUsuariosView.emplNuevo.telefonoEmpleado}"  class="form-control"   html5:placeholder="Ingrese un número telefonico" />
                                        </div>

                                        <div class="form-group col-md-6">
                                            <label for=""><b>Ciudad</b></label>
                                            <h:inputText value="#{gestionUsuariosView.emplNuevo.ciudadEmpleado}"  class="form-control"    html5:placeholder="Ciudad actual"/>
                                        </div>

                                        <div class="form-group col-md-12">
                                            <label for=""><b>Dirección</b></label>
                                            <h:inputText value="#{gestionUsuariosView.emplNuevo.direccionEmpleado}"  class="form-control"  html5:placeholder="Ingrese su dirección"/>
                                        </div>
                                    </div>
                                </div>
                                <div class="modal-footer">
                                    <h:commandButton action="#{gestionUsuariosView.registrarEmpleado()}" class="btn btn-dark" value="Guardar"/>
                                    <button type="submint" class="btn btn-dark" data-dismiss="modal" onclick="return cancelar()"><i class="fas fa-backspace lead mr-2" />Cancelar</button>
                                </div>
                            </h:form>
                        </div>
                    </div>
                </div>
            </div>
            <!-- Fin wrapper -->
            <!-- Bootstrap y JQuery -->
            <script src="#{request.contextPath}/resources/bootstrap/js/jquery-3.4.1.min.js"></script>
            <script src="#{request.contextPath}/resources/bootstrap/js/popper.min.js"></script>
            <script src="#{request.contextPath}/resources/bootstrap/js/bootstrap.min.js"></script><!-- ICONOS -->
            <script type="text/javascript" src="#{request.contextPath}/resources/iconos/js/all.min.js"></script>
            <!-- datatables JS -->
            <script type="text/javascript" src="#{request.contextPath}/resources/DataTables/datatables.min.js"></script>  

            <script type="text/javascript" src="#{request.contextPath}/resources/DataTables/Responsive-2.2.3/js/responsive.bootstrap4.min.js"></script>  

            <script type="text/javascript" src="#{request.contextPath}/resources/DataTables/Responsive-2.2.3/js/dataTables.responsive.min.js"></script>  
            <!-- para usar botones en datatables JS -->  

            <script src="#{request.contextPath}/resources/DataTables/Buttons-1.6.1/js/dataTables.buttons.min.js"></script>  

            <script src="#{request.contextPath}/resources/DataTables/JSZip-2.5.0/jszip.min.js"></script>    

            <script src="#{request.contextPath}/resources/DataTables/pdfmake-0.1.36/pdfmake.min.js"></script>    

            <script src="#{request.contextPath}/resources/dataTables/pdfmake-0.1.36/vfs_fonts.js"></script>
            <script src="#{request.contextPath}/resources/dataTables/Buttons-1.5.6/js/buttons.html5.min.js"></script>
            <!-- código JS propìo-->    

            <script type="text/javascript" src="#{request.contextPath}/resources/js/table.js"></script> 
            <!-- validación del formulario -->
            <script src="#{request.contextPath}/resources/js/validacion_form.js"></script>
            <!-- script de alertAlert2 -->
            <script type="text/javascript" src="#{request.contextPath}/resources/sweetalert2/package/dist/sweetalert2.all.min.js"></script>
            <script type="text/javascript" src="#{request.contextPath}/resources/js/sweetAler.js"></script>
            <!-- Abrir / cerrar menu -->
            <script>
                                        $("#menu-toggle").click(function (e) {
                                            e.preventDefault();
                                            $("#content-wrapper").toggleClass("toggled");
                                        });
            </script>
        </h:form>
    </h:body>
</html>

